{"version":3,"sources":["images/headerlogo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/ImagePopup.js","components/ErrorPopup.js","utils/Api.js","utils/utils.js","components/App.js","index.js"],"names":["Header","React","memo","className","src","headerLogo","alt","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardButtonRemoveClassName","isLiked","likes","some","userWhoLiked","cardButtonLikeClassName","link","onClick","type","aria-label","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","style","backgroundImage","avatar","about","map","Footer","PopupWithForm","title","buttonSubmitText","children","isOpen","onClose","onSubmit","buttonSubmitState","noValidate","disabled","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","isNameInputValid","setNameInputValid","isAboutInputValid","setAboutInputValid","nameValidationMessage","setNameValidationMessage","aboutValidationMessage","setAboutValidationMessage","setButtonSubmitState","useEffect","evt","preventDefault","value","placeholder","required","minLength","maxLength","onChange","inputElement","target","validity","valid","validationMessage","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","isLinkInputValid","setLinkInputValid","linkValidationMessage","setLinkValidationMessage","isLinkInputInitial","setLinkInputInitial","current","ref","AddPlacePopup","setLink","isNameInputInitial","setNameInputInitial","ConfirmDeletePopup","onSubmitDelete","ImagePopup","ErrorPopup","errorText","isActive","api","baseUrl","groupId","token","this","_baseUrl","_groupId","_token","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_checkResponse","user","method","body","JSON","stringify","likeCardStatus","App","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isConfirmDeletePopupOpen","setConfirmDeletePopupOpen","selectedCard","setSelectedCard","error","setError","setCurrentUser","setCards","submitTextProfilePopup","setSubmitTextProfilePopup","submitTextAvatarPopup","setSubmitTextAvatarPopup","submitTextAddPlacePopup","setSubmitTextAddPlacePopup","submitTextConfirmDeletePopup","setSubmitTextConfirmDeletePopup","cardToRemove","setCardToRemove","checkImage","resolve","img","document","createElement","onload","onerror","remove","closeAllPopups","setErrorPopup","err","active","all","getUserInfo","getCards","userData","catch","setTimeout","addEventListener","classList","contains","Provider","changeLikeCardStatus","cardWithChangedLike","cardFromState","setUserInfo","updatedUser","changeAvatar","postCard","newCard","deleteCard","filter","ReactDOM","render","StrictMode","querySelector"],"mappings":"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","file":"static/js/main.7eae1ac0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/headerlogo.bbe2a6ea.svg\";","import React from \"react\";\r\nimport headerLogo from \"../images/headerlogo.svg\";\r\n\r\nconst Header = React.memo(()=>{\r\n  return (\r\n    <header className=\"header page__container\">\r\n      <img\r\n        className=\"header__logo\"\r\n        src={headerLogo}\r\n        alt=\"Логотип сайта с надписью Место Россия английскими буквами\"\r\n      />\r\n    </header>\r\n  );\r\n})\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardButtonRemoveClassName = `cards__btn-remove ${isOwn ? 'cards__btn-remove_active': ''}`;\r\n\r\n  const isLiked = card.likes.some((userWhoLiked)=>userWhoLiked._id === currentUser._id);\r\n  const cardButtonLikeClassName = `cards__btn-like ${isLiked ? 'cards__btn-like_active': ''}`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"cards__item\">\r\n      <img\r\n        className=\"cards__image\"\r\n        src={`${card.link}`}\r\n        alt=\"\"\r\n        onClick={handleClick}\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        aria-label=\"Удалить\"\r\n        className={cardButtonRemoveClassName}\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <div className=\"cards__description\">\r\n        <h2 className=\"cards__title text-cut\">{card.name}</h2>\r\n        <div className=\"cards__likes-container\">\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Нравится\"\r\n            className={cardButtonLikeClassName}\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <div className=\"cards__likes-counter\">{card.likes.length}</div>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport \"../index.css\";\r\nimport Card from \"./Card.js\";\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile page__container\">\r\n        <div\r\n          className=\"profile__avatar\"\r\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\r\n          onClick={onEditAvatar}\r\n        ></div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__container\">\r\n            <h1 className=\"profile__name text-cut\">{currentUser.name}</h1>\r\n            <button type=\"button\" aria-label=\"Редактировать\" className=\"profile__btn-edit\" onClick={onEditProfile}></button>\r\n          </div>\r\n          <p className=\"profile__about text-cut\">{currentUser.about}</p>\r\n        </div>\r\n        <button type=\"button\" aria-label=\"Добавить\" className=\"profile__btn-add\" onClick={onAddPlace}> </button>\r\n      </section>\r\n\r\n      <section className=\"places page__container\">\r\n        <ul className=\"cards\">\r\n          {cards.map((card) => {\r\n            return (\r\n              <Card key={card._id} card={card} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete}/>\r\n            );\r\n          })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nconst Footer = React.memo(()=>{\r\n  return (\r\n    <footer className=\"footer page__container\">\r\n      <p className=\"footer__author\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n})\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm({ title, name, buttonSubmitText, children, isOpen, onClose, onSubmit, buttonSubmitState }) {\r\n\r\n  return (\r\n    <div className={`popup ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n      <div className=\"popup__container popup__container_form\">\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <button type=\"button\" aria-label=\"Закрыть\" className=\"popup__btn-close\" onClick={onClose}></button>\r\n        <form className=\"popup__form\" name={`form-edit-${name}`} onSubmit={onSubmit} noValidate>\r\n          {children}\r\n          <button type=\"submit\" className={`popup__btn-submit ${!buttonSubmitState ? 'popup__btn-submit_inactive' :''}`} disabled={!buttonSubmitState ? true :''}>{buttonSubmitText}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, buttonSubmitText }) {\r\n  const [name, setName] = React.useState(\"Name\");\r\n  const [description, setDescription] = React.useState(\"About\");\r\n  const [isNameInputValid, setNameInputValid] = React.useState(true);\r\n  const [isAboutInputValid, setAboutInputValid] = React.useState(true);\r\n  const [nameValidationMessage, setNameValidationMessage] = React.useState('');\r\n  const [aboutValidationMessage, setAboutValidationMessage] = React.useState('');\r\n  const [buttonSubmitState, setButtonSubmitState] = React.useState(false);\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    if(currentUser.name && currentUser.about) {\r\n      setName(currentUser.name);\r\n      setDescription(currentUser.about);\r\n    }\r\n    setNameInputValid(true);\r\n    setAboutInputValid(true);\r\n  }, [currentUser, isOpen]);\r\n\r\n  function handleChangeName(evt) {\r\n    setName(evt.target.value);\r\n    checkNameValidation(evt.target);\r\n  }\r\n\r\n  function handleChangeAbout(evt) {\r\n    setDescription(evt.target.value);\r\n    checkAboutValidation(evt.target);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({name, about: description})\r\n  }\r\n\r\n  //Валидация формы\r\n  React.useEffect(()=> {\r\n    if (isNameInputValid && isAboutInputValid) {\r\n      setButtonSubmitState(true);\r\n    } else {\r\n      setButtonSubmitState(false);\r\n    }\r\n  }, [isNameInputValid, isAboutInputValid]);\r\n\r\n  function checkNameValidation(inputElement) {\r\n    if (!inputElement.validity.valid) {\r\n      setNameInputValid(false);\r\n      setNameValidationMessage(inputElement.validationMessage);\r\n    } else {\r\n      setNameInputValid(true);\r\n    }\r\n  }\r\n\r\n  function checkAboutValidation(inputElement) {\r\n    if (!inputElement.validity.valid) {\r\n      setAboutInputValid(false);\r\n      setAboutValidationMessage(inputElement.validationMessage);\r\n    } else {\r\n      setAboutInputValid(true);\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"profile\"\r\n      buttonSubmitText={buttonSubmitText}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonSubmitState={buttonSubmitState}\r\n    >\r\n      <fieldset className=\"popup__set\">\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={name}\r\n            placeholder=\"Имя\"\r\n            className={`popup__input ${!isNameInputValid ? 'popup__input_type_error' : ''}`}\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            onChange={handleChangeName}\r\n          />\r\n          <span className={`popup__input-error ${!isNameInputValid ? 'popup__input-error_active' : ''}`}>{nameValidationMessage}</span>\r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"about\"\r\n            value={description}\r\n            placeholder=\"О себе\"\r\n            className={`popup__input ${!isAboutInputValid ? 'popup__input_type_error' : ''}`}\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            onChange={handleChangeAbout}\r\n          />\r\n          <span className={`popup__input-error ${!isAboutInputValid ? 'popup__input-error_active' : ''}`}>{aboutValidationMessage}</span>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar, buttonSubmitText }) {\r\n  const avatarRef = React.useRef();\r\n  const [isLinkInputValid, setLinkInputValid] = React.useState(true);\r\n  const [linkValidationMessage, setLinkValidationMessage] = React.useState('');\r\n  const [buttonSubmitState, setButtonSubmitState] = React.useState(false);\r\n  const [isLinkInputInitial, setLinkInputInitial] = React.useState(true);\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar({avatar: avatarRef.current.value});\r\n  }\r\n\r\n  //Валидация формы\r\n  function handleChange() {\r\n    if (!avatarRef.current.validity.valid) {\r\n      setLinkInputInitial(false);\r\n      setLinkInputValid(false);\r\n      setLinkValidationMessage(avatarRef.current.validationMessage);\r\n    } else {\r\n      setLinkInputInitial(false);\r\n      setLinkInputValid(true);\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setLinkInputValid(true);\r\n    setButtonSubmitState(false);\r\n    setLinkInputInitial(true);\r\n    avatarRef.current.value='';\r\n  }, [isOpen]);\r\n\r\n  React.useEffect(()=> {\r\n    if (isLinkInputValid && !isLinkInputInitial) {\r\n      setButtonSubmitState(true);\r\n    } else {\r\n      setButtonSubmitState(false);\r\n    }\r\n  }, [isLinkInputValid, isLinkInputInitial]);\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"avatar\"\r\n      buttonSubmitText={buttonSubmitText}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonSubmitState={buttonSubmitState}\r\n    >\r\n      <fieldset className=\"popup__set\">\r\n        <label className=\"popup__field\">\r\n          <input\r\n            ref={avatarRef}\r\n            type=\"url\"\r\n            name=\"link\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            className={`popup__input ${!isLinkInputValid ? 'popup__input_type_error' : ''}`}\r\n            required\r\n            onChange={handleChange}\r\n          />\r\n          <span className={`popup__input-error ${!isLinkInputValid ? 'popup__input-error_active' : ''}`}>{linkValidationMessage}</span>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, buttonSubmitText }) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n  const [isNameInputValid, setNameInputValid] = React.useState(true);\r\n  const [isLinkInputValid, setLinkInputValid] = React.useState(true);\r\n  const [nameValidationMessage, setNameValidationMessage] = React.useState('');\r\n  const [linkValidationMessage, setLinkValidationMessage] = React.useState('');\r\n  const [buttonSubmitState, setButtonSubmitState] = React.useState(false);\r\n  const [isNameInputInitial, setNameInputInitial] = React.useState(true);\r\n  const [isLinkInputInitial, setLinkInputInitial] = React.useState(true);\r\n\r\n  function handleAddPlaceSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace({ name, link });\r\n  }\r\n\r\n  function handleChangeTitle(evt) {\r\n    setName(evt.target.value);\r\n    checkNameValidation(evt.target);\r\n  }\r\n\r\n  function handleChangeLink(evt) {\r\n    setLink(evt.target.value);\r\n    checkLinkValidation(evt.target);\r\n  }\r\n\r\n  //Валидация формы\r\n  React.useEffect(() => {\r\n    setName('');\r\n    setLink('');\r\n    setNameInputValid(true);\r\n    setLinkInputValid(true);\r\n    setButtonSubmitState(false);\r\n    setNameInputInitial(true);\r\n    setLinkInputInitial(true);\r\n  }, [isOpen]);\r\n\r\n  React.useEffect(()=> {\r\n    if (isNameInputValid && isLinkInputValid && !isNameInputInitial && !isLinkInputInitial) {\r\n      setButtonSubmitState(true);\r\n    } else {\r\n      setButtonSubmitState(false);\r\n    }\r\n  }, [isNameInputValid, isLinkInputValid, isNameInputInitial, isLinkInputInitial ]);\r\n\r\n  function checkNameValidation(inputElement) {\r\n    if (!inputElement.validity.valid) {\r\n      setNameInputInitial(false);\r\n      setNameInputValid(false);\r\n      setNameValidationMessage(inputElement.validationMessage);\r\n    } else {\r\n      setNameInputInitial(false);\r\n      setNameInputValid(true);\r\n    }\r\n  }\r\n\r\n  function checkLinkValidation(inputElement) {\r\n    if (!inputElement.validity.valid) {\r\n      setLinkInputInitial(false);\r\n      setLinkInputValid(false);\r\n      setLinkValidationMessage(inputElement.validationMessage);\r\n    } else {\r\n      setLinkInputInitial(false);\r\n      setLinkInputValid(true);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"card\"\r\n      buttonSubmitText={buttonSubmitText}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleAddPlaceSubmit}\r\n      buttonSubmitState={buttonSubmitState}\r\n    >\r\n      <fieldset className=\"popup__set\">\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            value={name}\r\n            placeholder=\"Название\"\r\n            className={`popup__input ${!isNameInputValid ? 'popup__input_type_error' : ''}`}\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            onChange={handleChangeTitle}\r\n          />\r\n          <span className={`popup__input-error ${!isNameInputValid ? 'popup__input-error_active' : ''}`}>{nameValidationMessage}</span>\r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"url\"\r\n            name=\"link\"\r\n            value={link}\r\n            placeholder=\"Ссылка на картинку\"\r\n            className={`popup__input ${!isLinkInputValid ? 'popup__input_type_error' : ''}`}\r\n            required\r\n            onChange={handleChangeLink}\r\n          />\r\n          <span className={`popup__input-error ${!isLinkInputValid ? 'popup__input-error_active' : ''}`}>{linkValidationMessage}</span>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction ConfirmDeletePopup({isOpen, onClose, card, onSubmitDelete, buttonSubmitText }) {\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onSubmitDelete(card);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Вы уверены?\"\r\n      name=\"remove\"\r\n      buttonSubmitText={buttonSubmitText}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonSubmitState=\"true\"\r\n    />\r\n  );\r\n}\r\n\r\nexport default ConfirmDeletePopup;\r\n","import React from 'react';\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_type_img ${\r\n        card.link ? \"popup_opened\" : \"\"\r\n      }`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Закрыть\"\r\n          className=\"popup__btn-close\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <figure className=\"popup__figure\">\r\n          <img className=\"popup__image\" src={`${card.link}`} alt=\"\" />\r\n          <figcaption className=\"popup__caption\"></figcaption>\r\n        </figure>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from \"react\";\r\n\r\nfunction ErrorPopup({ errorText, isActive }) {\r\n  return (\r\n    <div className={`error-popup ${isActive ? \"error-popup_opened\" : \"\"} `}>\r\n      <h2 className=\"error-popup__title\">Что-то пошло не так...</h2>\r\n      <p className=\"error-popup__text\">{errorText}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ErrorPopup;\r\n","import { apiSettings } from \"./utils.js\";\r\nclass Api {\r\n  constructor({ baseUrl, groupId, token }) {\r\n    this._baseUrl = baseUrl;\r\n    this._groupId = groupId;\r\n    this._token = token;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(`Ошибка ${res.status}`);\r\n    }\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/${this._groupId}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(`${this._baseUrl}/${this._groupId}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  setUserInfo(user) {\r\n    return fetch(`${this._baseUrl}/${this._groupId}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: user.name,\r\n        about: user.about,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  postCard(card) {\r\n    return fetch(`${this._baseUrl}/${this._groupId}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: card.name,\r\n        link: card.link,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(card) {\r\n    return fetch(`${this._baseUrl}/${this._groupId}/cards/${card._id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(card, likeCardStatus) {\r\n    return fetch(`${this._baseUrl}/${this._groupId}/cards/likes/${card._id}`, {\r\n      method: (likeCardStatus ? \"PUT\": \"DELETE\"),\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getCountsOfLikes(card) {\r\n    return fetch(`${this._baseUrl}/${this._groupId}/cards/likes/${card._id}`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  changeAvatar(link) {\r\n    return fetch(`${this._baseUrl}/${this._groupId}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: link,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api(apiSettings);\r\nexport default api;\r\n","const apiSettings = {\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1\",\r\n  groupId: \"cohort-22\",\r\n  token: \"a835ebe3-157b-4140-922b-a5f49168fcac\",\r\n};\r\n\r\nexport { apiSettings };\r\n","import React from \"react\";\r\nimport \"../index.css\";\r\nimport Header from \"./Header.js\";\r\nimport Main from \"./Main.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport EditProfilePopup from \"./EditProfilePopup.js\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\r\nimport AddPlacePopup from \"./AddPlacePopup.js\";\r\nimport ConfirmDeletePopup from \"./ConfirmDeletePopup.js\";\r\nimport ImagePopup from \"./ImagePopup.js\";\r\nimport ErrorPopup from \"./ErrorPopup.js\";\r\nimport api from \"../utils/Api.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isConfirmDeletePopupOpen, setConfirmDeletePopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [error, setError] = React.useState({ errorText: \"\", isActive: false });\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [submitTextProfilePopup, setSubmitTextProfilePopup] = React.useState('Сохранить');\r\n  const [submitTextAvatarPopup, setSubmitTextAvatarPopup] = React.useState('Сохранить');\r\n  const [submitTextAddPlacePopup, setSubmitTextAddPlacePopup] = React.useState('Сохранить');\r\n  const [submitTextConfirmDeletePopup, setSubmitTextConfirmDeletePopup] = React.useState('Да');\r\n  const [cardToRemove, setCardToRemove] = React.useState({});\r\n\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getCards()])\r\n      .then(([userData, cards]) => {\r\n        setCurrentUser(userData);\r\n        setCards(cards);\r\n      })\r\n      .catch((err) => {\r\n        setErrorPopup(err, true);\r\n        setTimeout(() => setErrorPopup(err, false), 5000);\r\n      });\r\n  }, []);\r\n\r\n  function handleUpdateUser(user) {\r\n    setSubmitTextProfilePopup('Сохранение...');\r\n    api\r\n      .setUserInfo(user)\r\n      .then((updatedUser) => {\r\n        setCurrentUser({\r\n          ...currentUser,\r\n          name: updatedUser.name,\r\n          about: updatedUser.about,\r\n        });\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        setErrorPopup(err, true);\r\n        setTimeout(() => setErrorPopup(err, false), 5000);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar({ avatar }) {\r\n    checkImage(avatar)\r\n      .then(() => {\r\n        setSubmitTextAvatarPopup('Сохранение...');\r\n        api\r\n          .changeAvatar(avatar)\r\n          .then((updatedUser) => {\r\n            setCurrentUser({ ...currentUser, avatar: updatedUser.avatar });\r\n            closeAllPopups();\r\n          })\r\n      })\r\n      .catch(() => {\r\n        setErrorPopup('Ошибка адреса', true);\r\n        setTimeout(() => setErrorPopup('Ошибка адреса', false), 5000);\r\n      });\r\n  }\r\n\r\n  function checkImage(link) {\r\n    return new Promise((resolve, reject) => {\r\n      const img = document.createElement('img');\r\n      img.src = link;\r\n      img.onload = resolve;\r\n      img.onerror = reject;\r\n      img.remove();\r\n    })\r\n  }\r\n\r\n  function handleAddCard(card) {\r\n    checkImage(card.link)\r\n      .then(() => {\r\n        setSubmitTextAddPlacePopup('Добавление...');\r\n        api.postCard(card)\r\n          .then((newCard) => {\r\n            setCards([newCard, ...cards]);\r\n            closeAllPopups();\r\n          })\r\n      })\r\n      .catch(() => {\r\n        setErrorPopup('Ошибка адреса', true);\r\n        setTimeout(() => setErrorPopup('Ошибка адреса', false), 5000);\r\n      });\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(\r\n      (userWhoLiked) => userWhoLiked._id === currentUser._id\r\n    );\r\n    api\r\n      .changeLikeCardStatus(card, !isLiked)\r\n      .then((cardWithChangedLike) => {\r\n        setCards(\r\n          cards.map((cardFromState) =>\r\n            cardFromState._id === card._id ? cardWithChangedLike : cardFromState\r\n          )\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        setErrorPopup(err, true);\r\n        setTimeout(() => setErrorPopup(err, false), 5000);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    setSubmitTextConfirmDeletePopup('Удаление...');\r\n    api\r\n      .deleteCard(card)\r\n      .then(() => {\r\n        setCards(\r\n          cards.filter((cardFromState) => cardFromState._id !== card._id)\r\n        );\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        setErrorPopup(err, true);\r\n        setTimeout(() => setErrorPopup(err, false), 5000);\r\n      });\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setSubmitTextAvatarPopup('Сохранить');\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setSubmitTextProfilePopup('Сохранить');\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setSubmitTextAddPlacePopup('Добавить');\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function confirmCardDelete(card) {\r\n    setSubmitTextConfirmDeletePopup('Да');\r\n    setCardToRemove(card);\r\n    setConfirmDeletePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setConfirmDeletePopupOpen(false);\r\n    setSelectedCard({});\r\n    setCardToRemove({});\r\n  }\r\n\r\n  function setErrorPopup(err, active) {\r\n    setError({ ...error, errorText: err, isActive: active });\r\n  }\r\n\r\n  React.useEffect(() =>\r\n    document.addEventListener('mousedown', (evt) => {\r\n      if (evt.target.classList.contains('popup')) {\r\n        closeAllPopups();\r\n      }\r\n    }), []);\r\n\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header />\r\n        <Main\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={confirmCardDelete}\r\n        />\r\n        <Footer />\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n          buttonSubmitText={submitTextProfilePopup}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          buttonSubmitText={submitTextAvatarPopup}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddCard}\r\n          buttonSubmitText={submitTextAddPlacePopup}\r\n        />\r\n\r\n        <ConfirmDeletePopup\r\n          isOpen={isConfirmDeletePopupOpen}\r\n          card={cardToRemove}\r\n          onClose={closeAllPopups}\r\n          onSubmitDelete={handleCardDelete}\r\n          buttonSubmitText={submitTextConfirmDeletePopup}\r\n        />\r\n\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n\r\n        <ErrorPopup errorText={error.errorText} isActive={error.isActive} />\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.querySelector('.root')\r\n);\r\n"],"sourceRoot":""}